<aside class="dashboard-sidebar" id="dashboardSidebar">
    <!-- <div class="sidebar-brand">
        <%- include("../logo") %>
        <div class="sidebar-brand-text">
            <p class="sidebar-brand-title">RESQ</p>
            <span class="sidebar-brand-subtitle">Admin Console</span>
        </div>
    </div> -->

    <div class="sidebar-user-card">
        <div class="sidebar-user-avatar"> <%- include("../logo") %>
            <!-- <span><%= (user?.username || user?.phoneNumber || "AD").slice(0, 2).toUpperCase() %></span> -->
        </div>
        <div class="sidebar-user-info">
            <p class="sidebar-brand-title">RESQ</p>
            <!-- <p class="sidebar-user-name"><%= user?.username || user?.phoneNumber || "Admin User" %></p> -->
            <!-- <p class="sidebar-user-role">System Administrator</p> -->
            <span class="sidebar-brand-subtitle">Admin Console</span>
        </div>
        <a href="/logout" class="sidebar-user-action" title="Log out">
            <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M16 17l5-5-5-5v3h-7v4h7v3zm-3 4H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h8v2H5v14h8v2z"
                    fill="currentColor" />
            </svg>
        </a>
    </div>

    <% const navLinks = [
        {
            key: "dashboard",
            label: "Dashboard",
            href: "/dashboard",
            description: "Overview & metrics",
            icon: `<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v4h8V3h-8z" fill="currentColor"/></svg>`
        },
        {
            key: "drivers",
            label: "Drivers",
            href: "/drivers",
            description: "Manage driver roster",
            icon: `<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 12c2.7 0 4.8-2.1 4.8-4.8S14.7 2.4 12 2.4 7.2 4.5 7.2 7.2 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8V22h19.2v-2.8c0-3.2-6.4-4.8-9.6-4.8z" fill="currentColor"/></svg>`
        },
        {
            key: "document-approvals",
            label: "Documents",
            href: "/document-approvals",
            description: "Review submissions",
            icon: `<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm7 7h4l-4-4v4zm-6 3v2h10v-2H7zm0 4v2h7v-2H7z" fill="currentColor"/></svg>`
        },
        {
            key: "trips",
            label: "Trips",
            href: "/trips",
            description: "Track live trips",
            icon: `<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 11h-1.2L17 6H7l-1.8 5H4a2 2 0 0 0-2 2v6h2v-2h16v2h2v-6a2 2 0 0 0-2-2zm-11 0l.9-2.5h4.2L15 11H9z" fill="currentColor"/></svg>`
        },
        {
            key: "users",
            label: "Users",
            href: "/users",
            description: "Customer accounts",
            icon: `<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z" fill="currentColor"/></svg>`
        },
        {
            key: "withdrawals",
            label: "Withdrawals",
            href: "/withdrawals",
            description: "Manage payouts",
            icon: `<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M5.5 2C3.57 2 2 3.57 2 5.5V18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5.5C22 3.57 20.43 2 18.5 2H5.5zM4 5.5c0-.83.67-1.5 1.5-1.5h13c.83 0 1.5.67 1.5 1.5V11h-16V5.5zm8 6c2.21 0 4 1.79 4 4s-1.79 4-4 4-4-1.79-4-4 1.79-4 4-4z" fill="currentColor"/></svg>`
        }
    ]; %>

    <nav class="sidebar-nav">
        <p class="sidebar-nav-label">Navigation</p>
        <ul>
            <% navLinks.forEach((link)=> { const isActive = active === link.key; %>
                <li class="<%= isActive ? 'active' : '' %>">
                    <a href="<%= link.href %>" class="sidebar-link">
                        <span class="nav-icon"><%- link.icon %></span>
                        <div class="nav-details">
                            <span class="nav-label"><%= link.label %></span>
                            <small><%= link.description %></small>
                        </div>
                        <% if (isActive) { %>
                            <span class="nav-indicator"></span>
                        <% } %>
                    </a>
                </li>
            <% }) %>
        </ul>
    </nav>

    <div class="sidebar-footer">
        <p>Need immediate assistance?</p>
        <a href="mailto:support@resq.app" class="sidebar-support-btn">Contact Support</a>
    </div>
</aside>
<div class="sidebar-backdrop" data-sidebar-backdrop></div>
